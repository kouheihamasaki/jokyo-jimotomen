<div class="container px-5">
  <div class="row">
    <h2 class="midashi col-auto mt-2">地元麺　投稿フォーム</h2>
  </div>
  <div class="row">
    <%= form_with model: @post do |f| %>
    <h4 class="mt-3">投稿タイトル</h4>
      <%= f.text_field :title, :size=>"72", autofocus: true %>
    <h4 class="mt-3">ショップ名</h4>
      <%= f.text_field :shop_name, :size=>"72" %>
    <h4 class="mt-3">投稿本文</h4>
      <%= f.text_area :body,:size=>"74x10", :placeholder => "博多豚骨ラーメン"%>
    <h4 class="mt-3">画像</h4>
      <%= f.file_field :image, accept: "image/*" %>
    <h4 class="mt-4">５段階評価（星５個が最大です）</h4>
    <div id="post_raty"></div>
    <script>
     let elem = document.querySelector('#post_raty');
     let opt = {
      starOn: "<%= asset_path('star-on.png') %>",
      starOff: "<%= asset_path('star-off.png') %>",
      scoreName: 'post[star]',
      half: false,
     };
     raty(elem, opt);
    </script>
    <h4 class="mt-4">お店の住所</h4>
      <%= f.text_field :adress, :size=>"72" ,placeholder: "お店の住所を正しく入力してください（郵便番号はいりません）" %>
    <!--タグ部分-->
    <h4 class="mt-4">タグの選択<small>　※複数選択可能です</small></h4>
    <div class='form-group'>
      <h5 class="mt-2">・都道府県タグ</h5>
      <%= f.collection_check_boxes(:tag_ids, @tag_pre.all, :id, :name) do |tag| %>
        <div class='form-check tag-input'>
          <%= tag.label class: 'form-check-label' do %>
            <%= tag.check_box class: 'form-check-input' %>
            <%= tag.text %>
          <% end %>
        </div>
      <% end %>
      <h5 class="mt-2">・ジャンルタグ</h5>
      <%= f.collection_check_boxes(:tag_ids, @tag_genre.all, :id, :name) do |tag| %>
        <div class='form-check tag-input'>
          <%= tag.label class: 'form-check-label' do %>
            <%= tag.check_box class: 'form-check-input' %>
            <%= tag.text %>
          <% end %>
        </div>
      <% end %>
      <h5 class="mt-2">・みんなが作ったタグ</h5>
      <%= f.collection_check_boxes(:tag_ids, @tag_others.all, :id, :name) do |tag| %>
        <div class='form-check tag-input'>
          <%= tag.label class: 'form-check-label' do %>
            <%= tag.check_box class: 'form-check-input' %>
            <%= tag.text %>
          <% end %>
        </div>
      <% end %>
    </div>
    <div class="actions row mt-4">
      <div class="field col-auto pb-lg-5 add-font-rocknroll">
        <%= f.submit '　！投稿する！　', class: "text-dark btn btn-outline-success btn-lg" %>
      </div>
    </div>
    <% end %>
    <div class="mb-4">
      <div>
        <h5 class="">新しいタグを作成する</h5>
        <%= form_tag({controller:"posts",action:"new"}, method: :get) do %>
          <%= text_field_tag :tag %>
          <%= hidden_field_tag :tag_kind, "others_tag" %>
          <%= submit_tag 'タグを追加', class: 'btn btn-outline-secondary' %>
        <% end %>
      </div>
      <div>
        <h6>※作成したタグは「みんなが作ったタグ」に入ります。</h6>
      </div>
    </div>
  </div>
</div>

